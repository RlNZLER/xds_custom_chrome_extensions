<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>SABER Extractor</title>
  <style>
    :root{
      --bg:#0b0f1a;
      --card:#0f1629;
      --text:#e6eeff;
      --muted:#8b9ac0;
      --brand:#5b93ff;
      --brand-2:#8b5bff;
      --ok:#10b981;
      --warn:#f59e0b;
      --err:#ef4444;
      --ring: rgba(91,147,255,.45);
      --stroke: color-mix(in srgb, var(--card) 85%, #fff 15%);
      --stroke-2: color-mix(in srgb, var(--card) 70%, #fff 30%);
      --input:#111831;
      --green:#10b981;
    }
    @media (prefers-color-scheme: light){
      :root{
        --bg:#f7f8fc; --card:#ffffff; --text:#0b0f1a; --muted:#5b6478;
        --brand:#4169ff; --brand-2:#7a5cff; --ring: rgba(65,105,255,.25);
        --stroke: color-mix(in srgb, var(--card) 90%, #000 10%);
        --stroke-2: color-mix(in srgb, var(--card) 80%, #000 20%);
        --input:#f4f6ff; --green:#0ca678;
      }
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(91,147,255,.18), transparent 60%),
        radial-gradient(900px 500px at 120% 10%, rgba(139,91,255,.18), transparent 60%),
        var(--bg);
      color:var(--text);
      font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      padding:14px; width:380px;
    }
    .card{
      background:linear-gradient(180deg, color-mix(in srgb, var(--card) 96%, #fff 4%), var(--card));
      border:1px solid var(--stroke);
      border-radius:16px;
      padding:14px;
      box-shadow:0 10px 30px rgba(0,0,0,.12);
    }
    header{
      display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px;
    }
    .title{display:flex; align-items:center; gap:10px; font-weight:700}
    .logo{
      width:26px; height:26px; display:grid; place-items:center;
      border-radius:10px; background:linear-gradient(135deg,var(--brand),var(--brand-2));
      box-shadow:0 6px 18px var(--ring);
    }
    .sub{font-size:12px; color:var(--muted); font-weight:500}

    /* Status / indicator */
    #indicator{
      display:flex; align-items:center; gap:8px;
      font-size:12px; color:var(--muted);
      margin:8px 0 6px;
    }
    .dot{width:8px; height:8px; border-radius:999px; background:var(--muted)}
    .ok .dot{ background:var(--ok) } .warn .dot{ background:var(--warn) } .err .dot{ background:var(--err) }
    .hint .dot{ background:var(--brand) }

    /* Progress */
    #progressContainer{
      display:none; margin:6px 0 10px; height:10px; border-radius:999px; overflow:hidden;
      background: color-mix(in srgb, var(--card) 80%, #fff 20%);
      border:1px solid var(--stroke-2);
    }
    #progressBar{
      height:100%; width:0%;
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      text-align:center; color:white; line-height:10px; font-size:10px;
      transition: width .25s ease;
    }

    /* Buttons */
    .btn{
      appearance:none; border:0; border-radius:12px; padding:10px 14px;
      font-weight:600; color:#fff; cursor:pointer; width:100%;
      background:linear-gradient(135deg,var(--brand),var(--brand-2));
      box-shadow:0 10px 24px var(--ring);
      transition: transform .08s ease, box-shadow .2s ease, opacity .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); box-shadow:0 14px 28px var(--ring) }
    .btn:disabled{ opacity:.6; cursor:not-allowed; transform:none; box-shadow:none }
    .btn-row{ display:grid; gap:8px; margin-top:10px }
    .btn.secondary{
      background: linear-gradient(135deg, color-mix(in srgb, var(--brand) 30%, #666 70%), color-mix(in srgb, var(--brand-2) 30%, #666 70%));
    }
    .btn.success{
      background: linear-gradient(135deg, var(--green), color-mix(in srgb, var(--green) 70%, #2a2 30%));
    }

    /* Job Comment */
    #jobCommentContainer{
      display:none; margin-top:10px;
      border:1px solid var(--stroke-2); border-radius:12px; padding:10px;
      background: color-mix(in srgb, var(--card) 92%, #000 8%);
    }
    #jobCommentContainer label{ display:block; font-size:12px; color:var(--muted); margin-bottom:6px }
    #jobComment{
      width:100%; border:1px solid var(--stroke-2); background:var(--input); color:var(--text);
      border-radius:10px; padding:10px; font-family: ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:12px;
      resize: vertical; min-height:110px;
    }
    #copyCommentBtn{ margin-top:8px }

    /* Tiny helper footer */
    .note{ margin-top:8px; font-size:11px; color:var(--muted) }
  </style>
</head>
<body>
  <div class="card">
    <header>
      <div class="title">
        <div class="logo">ðŸ“¦</div>
        <div>
          SABER Extractor
          <div class="sub">SCOC request checker</div>
        </div>
      </div>
      <!-- you can keep this spot for a small settings icon in future -->
    </header>

    <div id="indicator" class="hint">
      <span class="dot"></span>
      <span id="indicatorText">Click start to check the SCOC Request</span>
    </div>

    <div id="progressContainer">
      <div id="progressBar">0%</div>
    </div>

    <div id="jobCommentContainer">
      <label for="jobComment">ðŸ“‹ Job Comment</label>
      <textarea id="jobComment" rows="6" readonly></textarea>
      <button id="copyCommentBtn" class="btn secondary">Copy Comment</button>
    </div>

    <div class="btn-row">
      <button id="startBtn" class="btn">ðŸš€ Start Extraction</button>
      <button id="downloadBtn" class="btn success" disabled>â¬‡ Download Report</button>
      <button id="extractRulesBtn" class="btn secondary">ðŸ“¤ Extract Global HS Code Rules</button>
      <button id="downloadRulesBtn" class="btn secondary">â¬‡ Download Global Rules</button>
    </div>

    <div class="note">Formatting is preserved in exported files.</div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
